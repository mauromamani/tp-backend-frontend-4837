<div class="vh-100">
  <h1 class="text-center mt-3 mb-5">Listado de Pasajes</h1>

  <div class="row mb-2">
    <div class="col-md-4">
      <label class="form-label" for="categoria">Seleccione la categoría para filtrar</label>
      <select class="form-select" id="categoria" [(ngModel)]="selectedCategory" name="selectedCategory">
        <option value="">TODOS</option>
        <option value="M">Menor</option>
        <option value="A">Adulto</option>
        <option value="J">Jubilado</option>
      </select>
    </div>

    <div class="col-md-4 d-flex align-items-end">
      <button class="btn btn-warning" (click)="filterTickets()">Filtrar</button>
    </div>
  </div>

  <div *ngIf="tickets.length === 0" class="alert alert-info p-2">No existen registros</div>
  <div class="table-responsive">
    <table class="table table-dark table-striped">
      <thead>
        <tr class="text-center">
          <th scope="col">#</th>
          <th scope="col">Nombre del pasajero</th>
          <th scope="col">Precio</th>
          <th scope="col">Categoría</th>
          <th scope="col">Fecha de Compra</th>
          <th scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>

        <tr *ngFor="let ticket of tickets; index as i" class="text-center">
          <th scope="row">{{ i + 1 }}</th>
          <td>{{ ticket.pasajero }}</td>
          <td>{{ ticket.precioPasaje }}</td>
          <td>{{ ticket.categoriaPasajero }}</td>
          <td>{{ ticket.fechaCompra | date: 'dd/MM/yyyy' }}</td>
          <td>
            <div class="btn-group">
              <button class="btn btn-warning" (click)="updateTicket(ticket._id)">Modificar</button>
              <button class="btn btn-danger" (click)="deleteTicket(ticket._id)">Eliminar</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>