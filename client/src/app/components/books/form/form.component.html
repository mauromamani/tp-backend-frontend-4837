<div class="vh-100">
  <h2 class="text-center">Crear un nuevo libro</h2>
  <form #bookForm="ngForm">
    <div class="row">
      <div class="col">
        <label class="form-label">Titulo</label>
        <input type="text" class="form-control" [(ngModel)]="book.titulo" name="titulo" required minlength="4"
          #titulo="ngModel">

        <div *ngIf="titulo?.invalid && titulo?.touched" class="alert alert-danger mt-1">
          <div *ngIf="titulo.errors && titulo.errors['minlength']">
            Titulo debe tener al menos 4 caracteres.
          </div>

          <div *ngIf="titulo.errors && titulo.errors['required']">
            El campo Titulo es requerido
          </div>
        </div>
      </div>

      <div class="col">
        <label class="form-label">Descripcion</label>
        <textarea class="form-control" [(ngModel)]="book.descripcion" name="descripcion" required minlength="10"
          #descripcion="ngModel"></textarea>

        <div *ngIf="descripcion?.invalid && descripcion?.touched" class="alert alert-danger mt-1">
          <div *ngIf="descripcion.errors && descripcion.errors['minlength']">
            Descripcion debe tener al menos 10 caracteres.
          </div>

          <div *ngIf="descripcion.errors && descripcion.errors['required']">
            El campo Descripcion es requerido
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-3">
      <!-- LINK DE IMAGEN -->
      <div class="col">
        <label class="form-label">Link de imagen</label>
        <input type="text" class="form-control" [(ngModel)]="book.imagen" name="imagen" required #imagen="ngModel">

        <div *ngIf="imagen?.invalid && imagen?.touched" class="alert alert-danger mt-1">
          <div *ngIf="imagen.errors && imagen.errors['required']">
            El campo Imagen es requerido
          </div>
        </div>
      </div>

      <!-- STOCK -->
      <div class="col">
        <label class="form-label">Stock</label>
        <input type="number" class="form-control" [(ngModel)]="book.stock" name="stock" required min="1"
          #stock="ngModel">

        <div *ngIf="stock?.invalid && stock?.touched" class="alert alert-danger mt-1">
          <div *ngIf="stock.errors && stock.errors['min']">
            El stock no debe tener menos de 1 item
          </div>

          <div *ngIf="stock.errors && stock.errors['required']">
            El campo stock es requerido
          </div>
        </div>
      </div>

      <div class="col">
        <label class="form-label">Producto Destacado</label>
        <select class="form-control" [(ngModel)]="book.destacado" name="destacado">
          <option value="true">Destacado</option>
          <option value="false">NO Destacado</option>
        </select>
      </div>
    </div>

    <div class="mt-3">
      <button class="btn btn-success" type="submit" (click)="createBook($event, bookForm)"
        [disabled]="!bookForm.form.valid">Guardar</button>
    </div>
  </form>
</div>